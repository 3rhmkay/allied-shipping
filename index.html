<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Allied Shipping & Security Company</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f4f6f8;
  color: #1f1f1f;
}

header {
  background: #0a1f44;
  color: white;
  padding: 30px;
  text-align: center;
}

section {
  padding: 30px;
  max-width: 900px;
  margin: auto;
}

.card {
  background: #ffffff;
  padding: 20px;
  margin-top: 20px;
  border-radius: 6px;
  border: 1px solid #e0e0e0;
}

h2 {
  color: #0a1f44;
}

input, select, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
}

input, select {
  border: 1px solid #ccc;
}

button {
  background: #0a1f44;
  color: white;
  border: none;
  cursor: pointer;
}

button.secondary {
  background: transparent;
  color: #0a1f44;
  border: 1px solid #0a1f44;
}

button:hover {
  opacity: 0.9;
}

.timeline {
  border-left: 3px solid #0a1f44;
  padding-left: 15px;
  margin-top: 15px;
}

.timeline div {
  margin-bottom: 10px;
}

.shipment {
  border: 1px solid #ccc;
  padding: 15px;
  margin-top: 10px;
  border-radius: 4px;
}

footer {
  background: #0a1f44;
  color: white;
  text-align: center;
  padding: 20px;
  margin-top: 40px;
}

.small {
  font-size: 0.9em;
  color: #666;
}
</style>
</head>

<body>

<header>
  <h1>Allied Shipping & Security Company</h1>
  <p>Secure • Reliable • Global Logistics</p>
</header>

<section>

  <!-- TRACK SHIPMENT -->
  <div class="card">
    <h2>Track Your Shipment</h2>
    <input id="trackInput" placeholder="Enter Tracking Number">
    <button onclick="trackShipment()">Track Shipment</button>
    <div id="trackResult"></div>
  </div>

  <!-- GENERATE TRACKING -->
  <div class="card">
    <h2>Generate Tracking Number</h2>
    <input id="origin" placeholder="Origin (e.g. Swansea, UK)">
    <input id="destination" placeholder="Destination (e.g. New York, USA)">
    <button onclick="generateShipment()">Generate Tracking Number</button>
    <div id="generatedResult"></div>
  </div>

  <!-- ADD SHIPMENT -->
  <div class="card">
    <h2>Add Shipment</h2>
    <input id="customer" placeholder="Customer Name">
    <select id="item">
      <option value="">Select Item</option>
      <option>Goods</option>
      <option>Services</option>
    </select>
    <input id="quantity" type="number" min="1" placeholder="Quantity">
    <input id="addOrigin" placeholder="Origin">
    <input id="addDestination" placeholder="Destination">
    <button onclick="addShipment()">Add Shipment</button>
  </div>

  <!-- UPCOMING SHIPMENTS -->
  <div class="card">
    <h2>Upcoming Shipments</h2>
    <div id="shipmentList"></div>
  </div>

  <!-- CONTACT -->
  <div class="card">
    <h2>Contact Information</h2>
    <p>Email: alliedscpan78@gmail.com</p>
    <p>UK Branch: +44 7418 602503</p>
    <p>US Branch: +1 (912) 309-3156</p>
    <p>Location: Swansea, UK</p>
  </div>

</section>

<footer>
  <p>© 2026 Allied Shipping & Security Company</p>
</footer>

<script>
/* ---------- STORAGE ---------- */
function getShipments() {
  return JSON.parse(localStorage.getItem("shipments") || "{}");
}
function saveShipments(data) {
  localStorage.setItem("shipments", JSON.stringify(data));
}

/* ---------- TRACKING ---------- */
function generateTrackingNumber() {
  return `ASC-UK-${new Date().getFullYear()}-${Math.floor(1000 + Math.random() * 9000)}`;
}

/* ---------- ETA ---------- */
function calculateETA(origin, destination) {
  const days = (!origin.toLowerCase().includes("uk") || !destination.toLowerCase().includes("uk"))
    ? Math.floor(Math.random() * 7) + 7
    : Math.floor(Math.random() * 3) + 3;

  const d = new Date();
  d.setDate(d.getDate() + days);
  return { days, date: d.toDateString() };
}

/* ---------- GENERATE ---------- */
function generateShipment() {
  const origin = document.getElementById("origin").value.trim();
  const destination = document.getElementById("destination").value.trim();
  if (!origin || !destination) return alert("Enter origin and destination");

  const shipments = getShipments();
  let tracking;
  do { tracking = generateTrackingNumber(); } while (shipments[tracking]);

  shipments[tracking] = {
    origin, destination,
    status: "Created",
    eta: calculateETA(origin, destination),
    updates: [{ date: new Date().toLocaleString(), message: "Shipment created" }]
  };

  saveShipments(shipments);
  renderShipments();

  document.getElementById("generatedResult").innerHTML = `
    <strong>${tracking}</strong>
    <button class="secondary" onclick="navigator.clipboard.writeText('${tracking}')">Copy</button>
  `;
}

/* ---------- ADD SHIPMENT ---------- */
function addShipment() {
  const customer = document.getElementById("customer").value.trim();
  const item = document.getElementById("item").value;
  const qty = document.getElementById("quantity").value;
  const origin = document.getElementById("addOrigin").value.trim();
  const destination = document.getElementById("addDestination").value.trim();

  if (!customer || !item || !qty || !origin || !destination)
    return alert("Fill all fields");

  const shipments = getShipments();
  let tracking;
  do { tracking = generateTrackingNumber(); } while (shipments[tracking]);

  shipments[tracking] = {
    customer, item, qty,
    origin, destination,
    status: "Created",
    eta: calculateETA(origin, destination),
    updates: [{ date: new Date().toLocaleString(), message: "Shipment added" }]
  };

  saveShipments(shipments);
  renderShipments();
}

/* ---------- TRACK ---------- */
function trackShipment() {
  const id = document.getElementById("trackInput").value.trim();
  const s = getShipments()[id];
  document.getElementById("trackResult").innerHTML = s
    ? `<p><strong>Status:</strong> ${s.status}</p><p><strong>ETA:</strong> ${s.eta.date}</p>`
    : "<p style='color:red'>Not found</p>";
}

/* ---------- RENDER ---------- */
function renderShipments() {
  const list = document.getElementById("shipmentList");
  const shipments = getShipments();
  list.innerHTML = "";

  Object.keys(shipments).forEach(k => {
    const s = shipments[k];
    list.innerHTML += `
      <div class="shipment">
        <strong>${k}</strong><br>
        ${s.origin} → ${s.destination}<br>
        ETA: ${s.eta.date}
      </div>`;
  });
}

renderShipments();
</script>

</body>
</html>
